# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ "–ê–Ω–∞–ª–∏–∑ + —Å–æ–≤–µ—Ç—ã" –∏ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–Ω–æ–ø–∫–∏ "–ê–Ω–∞–ª–∏–∑ + —Å–æ–≤–µ—Ç—ã" –∏ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ" –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –ø–æ—Å–ª–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤–æ–º –ø–æ—Å—Ç–µ.

## –ü—Ä–∏—á–∏–Ω—ã
1. **–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏** –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö `handlers.py`
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã** –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ `content_monitor.py`
3. **–ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã** —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ `chatgpt_integration.py`

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `handlers.py`
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å—Ç—Ä–æ–∫–∏ —Å `chatgpt_rewriter.get_rewrite_suggestions()`
- ‚úÖ –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å—Ç—Ä–æ–∫–∏ —Å `chatgpt_rewriter._detect_content_type()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `from chatgpt_integration import chatgpt_rewriter`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `from chatgpt_integration import get_manual_rewrite_prompt`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `new_post_details_`

### 2. –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ `content_monitor.py`
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ `get_new_post_keyboard(post_data['id'])`
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ ID –ø–æ—Å—Ç–∞ –≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É

### 3. –§—É–Ω–∫—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∞
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ `get_manual_rewrite_prompt()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `chatgpt_integration.py`
- ‚úÖ `chatgpt_rewriter.get_rewrite_suggestions()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `chatgpt_rewriter._detect_content_type()` —Ä–∞–±–æ—Ç–∞–µ—Ç

## –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "üí° –ê–Ω–∞–ª–∏–∑ + —Å–æ–≤–µ—Ç—ã" —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "üìã –ü–æ–¥—Ä–æ–±–Ω–µ–µ" —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "üìù –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–º–ø—Ç" —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "‚ùå –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
```python
@router.callback_query(F.data.startswith("new_post_analysis_"))
@router.callback_query(F.data.startswith("new_post_details_"))
@router.callback_query(F.data.startswith("new_post_manual_"))
@router.callback_query(F.data.startswith("new_post_skip_"))
```

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞
```python
def get_new_post_keyboard(draft_id: int):
    # –ö–Ω–æ–ø–∫–∏: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–º–ø—Ç, –ê–Ω–∞–ª–∏–∑ + —Å–æ–≤–µ—Ç—ã, –ü–æ–¥—Ä–æ–±–Ω–µ–µ, –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```python
# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
await self.safe_send_message(chat_id=admin_id, text=message_text, parse_mode="HTML")

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
await bot.send_message(chat_id=admin_id, text="üéõ –î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ—Å—Ç–æ–º:", reply_markup=keyboard)
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
1. –ë–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–π –ø–æ—Å—Ç
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ç–µ–∫—Å—Ç–æ–º
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π
4. –í—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
5. –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∞–Ω–∞–ª–∏–∑

## –°—Ç–∞—Ç—É—Å
- ‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è ChatGPT –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è 